{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useProperties, useVisiable, useEventProperties } from '@uiw/react-baidu-map-utils';\nexport function useGeolocationControl(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var [geolocationControl, setGeolocationControl] = useState();\n  var {\n    anchor,\n    offset,\n    showAddressBar,\n    enableAutoLocation,\n    locationIcon\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  useEffect(() => {\n    if (map && !geolocationControl) {\n      var instance = new BMap.GeolocationControl({\n        anchor: anchor || BMAP_ANCHOR_TOP_LEFT,\n        offset,\n        showAddressBar,\n        enableAutoLocation,\n        locationIcon\n      });\n      map.addControl(instance);\n      setGeolocationControl(instance);\n      return () => {\n        if (map && instance) {\n          map.removeControl(instance);\n        }\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [map]);\n  useVisiable(geolocationControl, props);\n  useEventProperties(geolocationControl, props, ['LocationSuccess', 'LocationError'], 'CamelCase');\n  useProperties(geolocationControl, props, ['Anchor', 'Offset']);\n  return {\n    geolocationControl,\n    setGeolocationControl\n  };\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,aAAT,EAAwBC,WAAxB,EAAqCC,kBAArC,QAA+D,4BAA/D;AAKA,OAAO,SAASC,qBAAT,CAA+BC,KAA/B,EAAoE;AAAA,MAArCA,KAAqC;AAArCA,SAAqC,GAA7B,EAARA;AAAqC;;AACzE,MAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CR,QAAQ,EAA5D;AACA,MAAM;AAAES,UAAF;AAAUC,UAAV;AAAkBC,kBAAlB;AAAkCC,sBAAlC;AAAsDC;AAAtD,MAAuEP,KAA7E;AACA,MAAM;AAAEQ;AAAF,MAAUb,aAAa,EAA7B;AACAF,WAAS,CAAC,MAAM;AACd,QAAIe,GAAG,IAAI,CAACP,kBAAZ,EAAgC;AAC9B,UAAMQ,QAAQ,GAAG,IAAIC,IAAI,CAACC,kBAAT,CAA4B;AAC3CR,cAAM,EAAEA,MAAM,IAAIS,oBADyB;AAE3CR,cAF2C;AAG3CC,sBAH2C;AAI3CC,0BAJ2C;AAK3CC;AAL2C,OAA5B,CAAjB;AAOAC,SAAG,CAACK,UAAJL,CAAeC,QAAfD;AACAN,2BAAqB,CAACO,QAAD,CAArBP;AACA,aAAO,MAAM;AACX,YAAIM,GAAG,IAAIC,QAAX,EAAqB;AACnBD,aAAG,CAACM,aAAJN,CAAkBC,QAAlBD;AACD;AAHH;AAXY,MAiBd;;AAjBO,KAkBN,CAACA,GAAD,CAlBM,CAATf;AAoBAI,aAAW,CAACI,kBAAD,EAAsBD,KAAtB,CAAXH;AACAC,oBAAkB,CAChBG,kBADgB,EAEhBD,KAFgB,EAGhB,CAAC,iBAAD,EAAoB,eAApB,CAHgB,EAIhB,WAJgB,CAAlBF;AAMAF,eAAa,CAAiDK,kBAAjD,EAAsED,KAAtE,EAA6E,CAAC,QAAD,EAAW,QAAX,CAA7E,CAAbJ;AACA,SAAO;AACLK,sBADK;AAELC;AAFK,GAAP;AAID","names":["useEffect","useState","useMapContext","useProperties","useVisiable","useEventProperties","useGeolocationControl","props","geolocationControl","setGeolocationControl","anchor","offset","showAddressBar","enableAutoLocation","locationIcon","map","instance","BMap","GeolocationControl","BMAP_ANCHOR_TOP_LEFT","addControl","removeControl"],"sources":["D:\\HB\\ReactProject\\22_3_8\\backboot\\node_modules\\@uiw\\react-baidu-map-geolocation-control\\src\\useGeolocationControl.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useProperties, useVisiable, useEventProperties } from '@uiw/react-baidu-map-utils';\nimport { GeolocationControlProps } from './';\n\nexport interface UseGeolocationControl extends GeolocationControlProps {}\n\nexport function useGeolocationControl(props = {} as UseGeolocationControl) {\n  const [geolocationControl, setGeolocationControl] = useState<BMap.GeolocationControl>();\n  const { anchor, offset, showAddressBar, enableAutoLocation, locationIcon } = props;\n  const { map } = useMapContext();\n  useEffect(() => {\n    if (map && !geolocationControl) {\n      const instance = new BMap.GeolocationControl({\n        anchor: anchor || BMAP_ANCHOR_TOP_LEFT,\n        offset,\n        showAddressBar,\n        enableAutoLocation,\n        locationIcon,\n      });\n      map.addControl(instance);\n      setGeolocationControl(instance);\n      return () => {\n        if (map && instance) {\n          map.removeControl(instance);\n        }\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  useVisiable(geolocationControl!, props);\n  useEventProperties<BMap.GeolocationControl, UseGeolocationControl>(\n    geolocationControl!,\n    props,\n    ['LocationSuccess', 'LocationError'],\n    'CamelCase',\n  );\n  useProperties<BMap.GeolocationControl, UseGeolocationControl>(geolocationControl!, props, ['Anchor', 'Offset']);\n  return {\n    geolocationControl,\n    setGeolocationControl,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}