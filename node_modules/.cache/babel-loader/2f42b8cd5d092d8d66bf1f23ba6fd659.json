{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map'; // import defaultIconUrl from './markers.png';\n\nimport { defaultIconUrl } from './markers';\nimport { noop, useEnableProperties, useProperties, useVisiable, useEventProperties } from '@uiw/react-baidu-map-utils';\n\nvar getIcons = name => {\n  var icons = {\n    simple_red: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -378 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2)\n    }),\n    simple_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -450 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2)\n    }),\n    loc_red: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -378 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2)\n    }),\n    loc_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -450 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2)\n    }),\n    dot_red: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -466 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2)\n    }),\n    dot_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -486 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2)\n    }),\n    start: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2)\n    }),\n    end: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-450 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2)\n    }),\n    location: new BMap.Icon(defaultIconUrl, new BMap.Size(28 / 2, 40 / 2), {\n      imageOffset: new BMap.Size(-248 / 2, -466 / 2),\n      anchor: new BMap.Size(28 / 2 / 2, 40 / 2)\n    })\n  };\n\n  for (var i = 1; i <= 10; i++) {\n    icons['red' + i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - 42 / 2 * (i - 1), 0),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2)\n    });\n  }\n\n  for (var _i = 1; _i <= 10; _i++) {\n    icons['blue' + _i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - 42 / 2 * (_i - 1), -132 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2)\n    });\n  }\n\n  return icons[name];\n};\n\nexport function useMarker(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    position,\n    animation,\n    offset,\n    icon,\n    enableMassClear,\n    enableDragging,\n    enableClicking,\n    raiseOnDrag,\n    draggingCursor,\n    rotation,\n    shadow,\n    title\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  var [marker, setMarker] = useState();\n  useEffect(() => {\n    if (!BMap || !map) return noop;\n    var options = {\n      offset,\n      icon,\n      enableMassClear,\n      enableDragging,\n      enableClicking,\n      raiseOnDrag,\n      draggingCursor,\n      rotation,\n      shadow,\n      title\n    };\n    var point = new BMap.Point(position.lng, position.lat);\n    var newMarker = new BMap.Marker(point, options);\n    map.addOverlay(newMarker);\n    newMarker.setAnimation(animation);\n    setMarker(newMarker);\n    return () => {\n      map.removeOverlay(newMarker);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n  var [type, setType] = useState(props.type || 'loc_blue');\n  /**\n   * 设置标注点 `图标`\n   */\n\n  useEffect(() => {\n    if (map && marker && !icon && type) {\n      var newIcon = getIcons(type);\n      newIcon.setImageSize(new BMap.Size(600 / 2, 600 / 2));\n      marker.setIcon(newIcon);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [type, marker]);\n  useVisiable(marker, props);\n  useEventProperties(marker, props, ['Click', 'DblClick', 'MouseDown', 'MouseUp', 'MouseOut', 'MouseOver', 'Remove', 'InfowindowClose', 'InfowindowOpen', 'DragStart', 'Dragging', 'DragEnd', 'RightClick']);\n  useEnableProperties(marker, props, ['Dragging', 'MassClear', 'Clicking']);\n  useProperties(marker, props, ['Icon', 'Position', 'Animation', 'Offset', 'Label', 'Title', 'Top', 'ZIndex', 'Rotation', 'Shadow']);\n  return {\n    marker,\n    setMarker,\n    type,\n    setType\n  };\n}","map":{"version":3,"mappings":"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","names":["useState","useEffect","useMapContext","defaultIconUrl","noop","useEnableProperties","useProperties","useVisiable","useEventProperties","getIcons","name","icons","simple_red","BMap","Icon","Size","imageOffset","anchor","simple_blue","loc_red","loc_blue","dot_red","dot_blue","start","end","location","i","useMarker","props","position","animation","offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","shadow","title","map","marker","setMarker","options","point","Point","lng","lat","newMarker","Marker","addOverlay","setAnimation","removeOverlay","type","setType","newIcon","setImageSize","setIcon"],"sources":["D:\\HB\\ReactProject\\22_3_8\\backboot\\node_modules\\@uiw\\react-baidu-map-marker\\src\\useMarker.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\n// import defaultIconUrl from './markers.png';\nimport { defaultIconUrl } from './markers';\nimport { MarkerProps } from '.';\nimport { noop, useEnableProperties, useProperties, useVisiable, useEventProperties } from '@uiw/react-baidu-map-utils';\n\nexport interface UseMarker extends MarkerProps {}\n\nconst getIcons = (name: string) => {\n  const icons = {\n    simple_red: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -378 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    }),\n    simple_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -450 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    }),\n    loc_red: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -378 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2),\n    }),\n    loc_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -450 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2),\n    }),\n    dot_red: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -466 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2),\n    }),\n    dot_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -486 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2),\n    }),\n    start: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2),\n    }),\n    end: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-450 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2),\n    }),\n    location: new BMap.Icon(defaultIconUrl, new BMap.Size(28 / 2, 40 / 2), {\n      imageOffset: new BMap.Size(-248 / 2, -466 / 2),\n      anchor: new BMap.Size(28 / 2 / 2, 40 / 2),\n    }),\n  };\n\n  for (let i = 1; i <= 10; i++) {\n    (icons as any)['red' + i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - (42 / 2) * (i - 1), 0),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    });\n  }\n\n  for (let i = 1; i <= 10; i++) {\n    (icons as any)['blue' + i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - (42 / 2) * (i - 1), -132 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    });\n  }\n  return icons[name as keyof typeof icons];\n};\n\nexport function useMarker(props = {} as UseMarker) {\n  const {\n    position,\n    animation,\n    offset,\n    icon,\n    enableMassClear,\n    enableDragging,\n    enableClicking,\n    raiseOnDrag,\n    draggingCursor,\n    rotation,\n    shadow,\n    title,\n  } = props;\n  const { map } = useMapContext();\n  const [marker, setMarker] = useState<BMap.Marker>();\n\n  useEffect(() => {\n    if (!BMap || !map) return noop;\n    const options = {\n      offset,\n      icon,\n      enableMassClear,\n      enableDragging,\n      enableClicking,\n      raiseOnDrag,\n      draggingCursor,\n      rotation,\n      shadow,\n      title,\n    };\n    const point = new BMap.Point(position.lng, position.lat);\n    const newMarker = new BMap.Marker(point, options);\n    map.addOverlay(newMarker);\n    newMarker.setAnimation(animation);\n    setMarker(newMarker);\n    return () => {\n      map.removeOverlay(newMarker);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n  const [type, setType] = useState(props.type || 'loc_blue');\n  /**\n   * 设置标注点 `图标`\n   */\n  useEffect(() => {\n    if (map && marker && !icon && type) {\n      const newIcon = getIcons(type as string);\n      newIcon.setImageSize(new BMap.Size(600 / 2, 600 / 2));\n      marker.setIcon(newIcon);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [type, marker]);\n  useVisiable(marker!, props);\n  useEventProperties<BMap.Marker, UseMarker>(marker!, props, [\n    'Click',\n    'DblClick',\n    'MouseDown',\n    'MouseUp',\n    'MouseOut',\n    'MouseOver',\n    'Remove',\n    'InfowindowClose',\n    'InfowindowOpen',\n    'DragStart',\n    'Dragging',\n    'DragEnd',\n    'RightClick',\n  ]);\n  useEnableProperties<BMap.Marker, UseMarker>(marker!, props, ['Dragging', 'MassClear', 'Clicking']);\n  useProperties<BMap.Marker, UseMarker>(marker!, props, [\n    'Icon',\n    'Position',\n    'Animation',\n    'Offset',\n    'Label',\n    'Title',\n    'Top',\n    'ZIndex',\n    'Rotation',\n    'Shadow',\n  ]);\n\n  return {\n    marker,\n    setMarker,\n    type,\n    setType,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}