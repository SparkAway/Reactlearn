{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useVisiable } from '@uiw/react-baidu-map-utils';\nexport function usePanoramaControl(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var [panoramaControl, setPanoramaControl] = useState();\n  var {\n    map\n  } = useMapContext();\n  useEffect(() => {\n    if (map && !panoramaControl) {\n      var instance = new BMap.PanoramaControl();\n      map.addControl(instance);\n      setPanoramaControl(instance);\n      return () => {\n        map.removeControl(instance);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [map]);\n  useVisiable(panoramaControl, props);\n  return {\n    panoramaControl,\n    setPanoramaControl\n  };\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AAKA,OAAO,SAASC,kBAAT,CAA4BC,KAA5B,EAA8D;AAAA,MAAlCA,KAAkC;AAAlCA,SAAkC,GAA1B,EAARA;AAAkC;;AACnE,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCN,QAAQ,EAAtD;AACA,MAAM;AAAEO;AAAF,MAAUN,aAAa,EAA7B;AACAF,WAAS,CAAC,MAAM;AACd,QAAIQ,GAAG,IAAI,CAACF,eAAZ,EAA6B;AAC3B,UAAMG,QAAQ,GAAG,IAAIC,IAAI,CAACC,eAAT,EAAjB;AACAH,SAAG,CAACI,UAAJJ,CAAeC,QAAfD;AACAD,wBAAkB,CAACE,QAAD,CAAlBF;AACA,aAAO,MAAM;AACXC,WAAG,CAACK,aAAJL,CAAkBC,QAAlBD;AADF;AALY,MASd;;AATO,KAUN,CAACA,GAAD,CAVM,CAATR;AAYAG,aAAW,CAACG,eAAD,EAAmBD,KAAnB,CAAXF;AACA,SAAO;AACLG,mBADK;AAELC;AAFK,GAAP;AAID","names":["useEffect","useState","useMapContext","useVisiable","usePanoramaControl","props","panoramaControl","setPanoramaControl","map","instance","BMap","PanoramaControl","addControl","removeControl"],"sources":["D:\\HB\\ReactProject\\22_3_8\\backboot\\node_modules\\@uiw\\react-baidu-map-panorama-control\\src\\usePanoramaControl.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport { useVisiable } from '@uiw/react-baidu-map-utils';\nimport { PanoramaControlProps } from './';\n\nexport interface UsePanoramaControl extends PanoramaControlProps {}\n\nexport function usePanoramaControl(props = {} as UsePanoramaControl) {\n  const [panoramaControl, setPanoramaControl] = useState<BMap.PanoramaControl>();\n  const { map } = useMapContext();\n  useEffect(() => {\n    if (map && !panoramaControl) {\n      const instance = new BMap.PanoramaControl();\n      map.addControl(instance);\n      setPanoramaControl(instance);\n      return () => {\n        map.removeControl(instance);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  useVisiable(panoramaControl!, props);\n  return {\n    panoramaControl,\n    setPanoramaControl,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}