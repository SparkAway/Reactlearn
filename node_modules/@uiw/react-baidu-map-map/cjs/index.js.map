{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "Provider",
    "props",
    "reducer",
    "initialState",
    "state",
    "dispatch",
    "children",
    "React",
    "forwardRef",
    "ref",
    "className",
    "style",
    "window",
    "BMap",
    "BMapGL",
    "elmRef",
    "container",
    "current",
    "setContainer",
    "setCenter",
    "setAutoLocalCity",
    "map",
    "center",
    "autoLocalCity",
    "childs",
    "Children",
    "toArray",
    "fontSize",
    "height",
    "child",
    "key",
    "isValidElement",
    "type",
    "cloneElement"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/// <reference types=\"@uiw/react-baidu-map-types\" />\nimport React, { useRef, useEffect, useImperativeHandle, useReducer, useMemo, CSSProperties } from 'react';\nimport { useMap } from './useMap';\nimport { Context, reducer, initialState } from './context';\n\nexport * from './useMap';\nexport * from './context';\n\nexport interface Control {\n  Control: BMap.Control;\n  NavigationControl: BMap.NavigationControlOptions;\n  OverviewMapControl: BMap.OverviewMapControlOptions;\n  ScaleControl: BMap.ScaleControlOptions;\n  MapTypeControl: BMap.MapTypeControlOptions;\n  CopyrightControl: BMap.CopyrightControlOptions;\n  GeolocationControl: BMap.GeolocationControlOptions;\n}\n\nexport type ControlOptions =\n  | {\n      name: keyof Control;\n      options?: (bmap: typeof BMap, map: BMap.Map) => void;\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    }\n  | {\n      name: keyof Control;\n      options?: Control[keyof Control];\n      control?(bmap: typeof BMap, map: BMap.Map): BMap.Control;\n    };\n\nexport type ControlOptionsAll = keyof Control | ControlOptions;\n\nexport interface MapProps extends BMap.MapOptions, BMap.MapEvents {\n  className?: React.HTMLAttributes<HTMLDivElement>['className'];\n  style?: React.HTMLAttributes<HTMLDivElement>['style'];\n  /**\n   * 指定的容器\n   */\n  container?: HTMLDivElement | null | undefined;\n  /**\n   * 百度地图上负责与地图交互的UI元素称为控件。\n   */\n  widget?: (ControlOptionsAll | ControlOptions)[];\n  /**\n   * 缩放等级\n   */\n  zoom?: number;\n  /**\n   * 定位, 可使用如 `上海市` 的地区字符串，\n   * 也可以使用对象如 `{lng: 121.424333, lat: 31.228604}` 表示经纬度\n   */\n  center?: string | BMap.Point;\n  /**\n   * IP定位获取当前城市，进行自动定位\n   */\n  autoLocalCity?: boolean;\n  children?: React.ReactNode;\n  /** 设置地图默认的鼠标指针样式。参数cursor应符合CSS的cursor属性规范 */\n  defaultCursor?: CSSProperties['cursor'];\n  /**\n   * 启用地图拖拽，默认启用\n   */\n  enableDragging?: boolean;\n  /**\n   * 启用滚轮放大缩小，默认禁用\n   */\n  enableScrollWheelZoom?: boolean;\n  /**\n   * 启用双击放大，默认启用\n   */\n  enableDoubleClickZoom?: boolean;\n  /**\n   * 启用地图惯性拖拽，默认禁用\n   */\n  enableInertialDragging?: boolean;\n  /**\n   * 启用连续缩放效果，默认禁用\n   */\n  enableContinuousZoom?: boolean;\n  /**\n   * 启用双指操作缩放，默认启用\n   */\n  enablePinchToZoom?: boolean;\n  /**\n   * 启用键盘操作，默认禁用。键盘的上、下、左、右键可连续移动地图。同时按下其中两个键可使地图进行对角移动。\n   * PgUp、PgDn、Home和End键会使地图平移其1/2的大小。+、-键会使地图放大或缩小一级\n   */\n  enableKeyboard?: boolean;\n  /**\n   * 设置地图个性化样式V2版本，仅支持现代浏览器（支持Canvas）\n   */\n  mapStyleV2?: BMap.MapStyleV2;\n  /**\n   * 设置地图城市，注意当地图初始化时的类型设置为 `BMAP_NORMAL_MAP` 时，\n   * 需要在调用 `centerAndZoom` 之前调用此方法设置地图所在城市。\n   * 例如：\n   * @example\n   *\n   * ```js\n   * var map = new BMap.Map(“container”, { mapType: BMAP_NORMAL_MAP });\n   * map.setCurrentCity(“北京市”);\n   * map.centerAndZoom(new BMap.Point(116.404, 39.915), 18);\n   * ```\n   *\n   * 注意：初始化的坐标应与您设置的城市对应，否则地图将无法正常显示。\n   */\n  currentCity?: string;\n  /**\n   * 将全景实例与Map类进行绑定\n   */\n  panorama?: BMap.Panorama;\n\n  viewport?: (view: Array<BMap.Point> | BMap.Viewport, viewportOptions: BMap.ViewportOptions) => void;\n}\n\nexport type MapChildRenderProps =\n  | {\n      children?: (data: { BMap: typeof BMap; map: BMap.Map; container?: string | HTMLDivElement | null }) => void;\n    }\n  | { children?: React.ReactNode };\n\nexport function Provider(props: MapChildRenderProps) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return <Context.Provider value={{ state, dispatch }}>{props.children}</Context.Provider>;\n}\n\nexport default React.forwardRef<MapProps & { map?: BMap.Map }, MapProps & MapChildRenderProps>(\n  ({ className, style, children, ...props }, ref) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    window.BMap = window.BMap || window.BMapGL;\n    const elmRef = useRef<HTMLDivElement>(null);\n    const { setContainer, container, setCenter, setAutoLocalCity, map } = useMap({\n      container: elmRef.current,\n      ...props,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setContainer(elmRef.current), [elmRef.current]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useMemo(() => props.center && setCenter(props.center!), [props.center]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setAutoLocalCity(props.autoLocalCity!), [props.autoLocalCity]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useImperativeHandle(ref, () => ({ ...props, map, BMap, container: elmRef.current }), [map]);\n    const childs = React.Children.toArray(children);\n    useEffect(() => {\n      if (map) {\n        dispatch({ map, container: elmRef.current, BMap });\n      }\n    }, [map]);\n    return (\n      <Context.Provider value={{ state, dispatch }}>\n        <div ref={elmRef} className={className} style={{ fontSize: 1, height: '100%', ...style }} />\n        {BMap && map && typeof children === 'function' && children({ BMap, map, container })}\n        {BMap &&\n          map &&\n          childs.map((child, key) => {\n            if (!React.isValidElement(child)) return null;\n            if (child.type && typeof child.type === 'string') {\n              return React.cloneElement(child, { key });\n            }\n            return React.cloneElement(child, {\n              ...child.props,\n              BMap,\n              map,\n              container,\n              key,\n            });\n          })}\n      </Context.Provider>\n    );\n  },\n);\n"
  ]
}