"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CopyrightControlItem = CopyrightControlItem;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = require("react");

var _reactBaiduMapUtils = require("@uiw/react-baidu-map-utils");

var uid = 1;

function CopyrightControlItem() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var children = props.children,
      control = props.control,
      bounds = props.bounds;

  var _useState = (0, _react.useState)(uid++),
      _useState2 = (0, _slicedToArray2.default)(_useState, 1),
      id = _useState2[0];

  var _useRenderDom = (0, _reactBaiduMapUtils.useRenderDom)({
    children: children
  }),
      container = _useRenderDom.container;

  var prevId = (0, _reactBaiduMapUtils.usePrevious)(id);
  (0, _react.useEffect)(function () {
    if (control) {
      control.addCopyright({
        id: id,
        bounds: bounds,
        content: container.innerHTML
      });
    }

    return function () {
      if (prevId && control) {
        control.removeCopyright(prevId);
      }
    };
  }, [children, control]);
  return null;
}
//# sourceMappingURL=Item.js.map