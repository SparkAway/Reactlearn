{
  "version": 3,
  "sources": [
    "../src/useInfoWindow.ts"
  ],
  "names": [
    "useInfoWindow",
    "props",
    "position",
    "opts",
    "children",
    "container",
    "title",
    "map",
    "infoWindow",
    "setInfoWindow",
    "win",
    "BMap",
    "InfoWindow",
    "content",
    "restore",
    "isOpen",
    "undefined",
    "setIsOpen",
    "closeInfoWindow",
    "point",
    "Point",
    "lng",
    "lat",
    "openInfoWindow",
    "setContent",
    "setTitle"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import { useState, useEffect, useMemo } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\nimport {\n  useEnableProperties,\n  useProperties,\n  useVisiable,\n  useEventProperties,\n  useRenderDom,\n} from '@uiw/react-baidu-map-utils';\nimport { InfoWindowProps } from '.';\n\nexport interface UseInfoWindow extends InfoWindowProps {}\n\nexport function useInfoWindow(props = {} as UseInfoWindow) {\n  const { position, ...opts } = props;\n  const { container } = useRenderDom({ children: props.children });\n  const { container: title } = useRenderDom({ children: props.title || '' });\n  const { map } = useMapContext();\n  const [infoWindow, setInfoWindow] = useState<BMap.InfoWindow>();\n  useMemo(() => {\n    if (!infoWindow && map) {\n      opts.title = title;\n      const win = new BMap.InfoWindow(props.children ? container : opts.content || '', {\n        ...opts,\n      } as BMap.InfoWindowOptions);\n      setInfoWindow(win);\n    }\n    return () => {\n      if (infoWindow) {\n        infoWindow.restore();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n\n  const [isOpen, setIsOpen] = useState(opts.isOpen === undefined ? true : opts.isOpen);\n  useEffect(() => {\n    if (map && BMap && infoWindow) {\n      if (!isOpen) {\n        map.closeInfoWindow();\n      } else if (position) {\n        const point = new BMap.Point(position.lng, position.lat);\n        map.openInfoWindow(infoWindow, point);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, infoWindow]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setContent(props.children ? container : opts.content || '');\n    }\n  }, [props.content, props.children]);\n\n  useEffect(() => {\n    if (infoWindow) {\n      infoWindow.setTitle(title);\n    }\n  }, [props.content, title]);\n\n  useVisiable(infoWindow!, props);\n  useEventProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Close',\n    'Open',\n    'Maximize',\n    'Restore',\n    'ClickClose',\n  ]);\n  useProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, [\n    'Width',\n    'Height',\n    'Title',\n    // 'Content',\n    'MaxContent',\n  ]);\n  useEnableProperties<BMap.InfoWindow, UseInfoWindow>(infoWindow!, props, ['CloseOnClick', 'Maximize', 'AutoPan']);\n\n  return {\n    /**\n     * 信息窗口实例对象\n     */\n    infoWindow,\n    /**\n     * 更新 信息窗口实例对象\n     */\n    setInfoWindow,\n    isOpen,\n    setIsOpen,\n  };\n}\n"
  ]
}