{
  "version": 3,
  "sources": [
    "../src/useMarker.tsx"
  ],
  "names": [
    "useState",
    "useEffect",
    "useMapContext",
    "defaultIconUrl",
    "noop",
    "useEnableProperties",
    "useProperties",
    "useVisiable",
    "useEventProperties",
    "getIcons",
    "name",
    "icons",
    "simple_red",
    "BMap",
    "Icon",
    "Size",
    "imageOffset",
    "anchor",
    "simple_blue",
    "loc_red",
    "loc_blue",
    "dot_red",
    "dot_blue",
    "start",
    "end",
    "location",
    "i",
    "useMarker",
    "props",
    "position",
    "animation",
    "offset",
    "icon",
    "enableMassClear",
    "enableDragging",
    "enableClicking",
    "raiseOnDrag",
    "draggingCursor",
    "rotation",
    "shadow",
    "title",
    "map",
    "marker",
    "setMarker",
    "options",
    "point",
    "Point",
    "lng",
    "lat",
    "newMarker",
    "Marker",
    "addOverlay",
    "setAnimation",
    "removeOverlay",
    "type",
    "setType",
    "newIcon",
    "setImageSize",
    "setIcon"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import { useState, useEffect } from 'react';\nimport { useMapContext } from '@uiw/react-baidu-map-map';\n// import defaultIconUrl from './markers.png';\nimport { defaultIconUrl } from './markers';\nimport { MarkerProps } from '.';\nimport { noop, useEnableProperties, useProperties, useVisiable, useEventProperties } from '@uiw/react-baidu-map-utils';\n\nexport interface UseMarker extends MarkerProps {}\n\nconst getIcons = (name: string) => {\n  const icons = {\n    simple_red: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -378 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    }),\n    simple_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(-454 / 2, -450 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    }),\n    loc_red: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -378 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2),\n    }),\n    loc_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(46 / 2, 70 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -450 / 2),\n      anchor: new BMap.Size(46 / 2 / 2, 70 / 2),\n    }),\n    dot_red: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -466 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2),\n    }),\n    dot_blue: new BMap.Icon(defaultIconUrl, new BMap.Size(16 / 2, 16 / 2), {\n      imageOffset: new BMap.Size(-216 / 2, -486 / 2),\n      anchor: new BMap.Size(16 / 2 / 2, 16 / 2),\n    }),\n    start: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-400 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2),\n    }),\n    end: new BMap.Icon(defaultIconUrl, new BMap.Size(50 / 2, 80 / 2), {\n      imageOffset: new BMap.Size(-450 / 2, -278 / 2),\n      anchor: new BMap.Size(50 / 2 / 2, 80 / 2),\n    }),\n    location: new BMap.Icon(defaultIconUrl, new BMap.Size(28 / 2, 40 / 2), {\n      imageOffset: new BMap.Size(-248 / 2, -466 / 2),\n      anchor: new BMap.Size(28 / 2 / 2, 40 / 2),\n    }),\n  };\n\n  for (let i = 1; i <= 10; i++) {\n    (icons as any)['red' + i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - (42 / 2) * (i - 1), 0),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    });\n  }\n\n  for (let i = 1; i <= 10; i++) {\n    (icons as any)['blue' + i] = new BMap.Icon(defaultIconUrl, new BMap.Size(42 / 2, 66 / 2), {\n      imageOffset: new BMap.Size(0 - (42 / 2) * (i - 1), -132 / 2),\n      anchor: new BMap.Size(42 / 2 / 2, 66 / 2),\n    });\n  }\n  return icons[name as keyof typeof icons];\n};\n\nexport function useMarker(props = {} as UseMarker) {\n  const {\n    position,\n    animation,\n    offset,\n    icon,\n    enableMassClear,\n    enableDragging,\n    enableClicking,\n    raiseOnDrag,\n    draggingCursor,\n    rotation,\n    shadow,\n    title,\n  } = props;\n  const { map } = useMapContext();\n  const [marker, setMarker] = useState<BMap.Marker>();\n\n  useEffect(() => {\n    if (!BMap || !map) return noop;\n    const options = {\n      offset,\n      icon,\n      enableMassClear,\n      enableDragging,\n      enableClicking,\n      raiseOnDrag,\n      draggingCursor,\n      rotation,\n      shadow,\n      title,\n    };\n    const point = new BMap.Point(position.lng, position.lat);\n    const newMarker = new BMap.Marker(point, options);\n    map.addOverlay(newMarker);\n    newMarker.setAnimation(animation);\n    setMarker(newMarker);\n    return () => {\n      map.removeOverlay(newMarker);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [map]);\n  const [type, setType] = useState(props.type || 'loc_blue');\n  /**\n   * 设置标注点 `图标`\n   */\n  useEffect(() => {\n    if (map && marker && !icon && type) {\n      const newIcon = getIcons(type as string);\n      newIcon.setImageSize(new BMap.Size(600 / 2, 600 / 2));\n      marker.setIcon(newIcon);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [type, marker]);\n  useVisiable(marker!, props);\n  useEventProperties<BMap.Marker, UseMarker>(marker!, props, [\n    'Click',\n    'DblClick',\n    'MouseDown',\n    'MouseUp',\n    'MouseOut',\n    'MouseOver',\n    'Remove',\n    'InfowindowClose',\n    'InfowindowOpen',\n    'DragStart',\n    'Dragging',\n    'DragEnd',\n    'RightClick',\n  ]);\n  useEnableProperties<BMap.Marker, UseMarker>(marker!, props, ['Dragging', 'MassClear', 'Clicking']);\n  useProperties<BMap.Marker, UseMarker>(marker!, props, [\n    'Icon',\n    'Position',\n    'Animation',\n    'Offset',\n    'Label',\n    'Title',\n    'Top',\n    'ZIndex',\n    'Rotation',\n    'Shadow',\n  ]);\n\n  return {\n    marker,\n    setMarker,\n    type,\n    setType,\n  };\n}\n"
  ]
}